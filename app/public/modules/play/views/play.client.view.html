<section style="background-color:yellow;">
	<div class="playSection">
		<div class="container-fluid">
			<div id="game-wrap-panels" class="row">
				<div id="game-left-panel" class="col-md-3 game-panel">

					
					<h1>{{game.title}}</h1>
						<span data-drag="true" jqyoui-draggable="{animate:true}" data-jqyoui-options="{revert: 'invalid'}">So you think you can drag</span>

						<div class="btn btn-primary" data-drag="true" data-jqyoui-options="{revert: 'invalid'}" ng-model="list1" jqyoui-draggable="{animate:true}" ng-hide="!list1.title">{{list1.title}}</div>
						<div class="thumbnail" data-drop="true" data-jqyoui-options ng-model="list2" jqyoui-droppable style='height:50px;'>
						  <div class="btn btn-success" data-drag="false" data-jqyoui-options ng-model="list2" jqyoui-draggable ng-hide="!list2.title">{{list2.title}}</div>
						</div>
						<div>{{list2}}</div>
					<hr />

					<div class="row">
						<div class="col-md-6" style="text-align: center; ">
							<button class="btn btn-primary" style="width:100%;" ng-click="mode==='displacement' ? resetMode() : prepareDisp()">Déplacement</button>
						</div>
						<div class="col-md-6" style="text-align: center; ">
							<button class="btn btn-primary" style="width:100%;">Attaque</button>
						</div>
						<div class="col-md-12 separator"></div>
						<div class="col-md-12" style="text-align: center; ">
							<label ng-repeat="p in game.players">{{p.money}} gaunettes</label>
						</div>
						<div class="col-md-12 separator"></div>
						<div class="col-md-12" style="text-align: center; ">
							<label>Nouvelles unités dans {{remaining}}</label>
						</div>
						<div class="col-md-12 separator"></div>
						<div class="col-md-12" style="text-align: center; ">
							<label>Points {{player.point}}</label>
						</div>
					</div>

					<div ng-if="mode==='displacement'">
						<h2>Displacement</h2>
							<h3>Add units</h3>
							<p>Units on this zone are</p>
							<p ng-repeat="i in game.selectedZone.units">{{i._id}} <button class="btn btn-primary" ng-click="addUnitToDisp(i._id)">Add2Disp</button></p>
						<div ng-if="disp.step>0">
							<h3>Choose a zone</h3>
							Click on a zone you want to move to : {{game.zonesDesc[game.zones[disp.zoneBId].zoneDesc].name}}
						</div>
						<div ng-if="disp.step>1">
							<h3>Validate displacement</h3>
							Are you sure you want to move {{disp.unitIds.length}} to {{game.zonesDesc[game.zones[disp.zoneBId].zoneDesc].name}} ? <br />
							<button class="btn btn-primary" ng-click="validateDisp()">Validate</button> <button class="btn btn-danger" ng-click="resetMode()">Cancel</button>
						</div>
					</div>

					<hr />

					<div ng-if="game.selectedZone" style="text-align:center; ">
						<h2>{{game.zonesDesc[game.zones[game.selectedZone._id].zoneDesc].name}}</h2>
						<h3 ng-if="game.zones[game.selectedZone._id].owner">Possédée par {{game.players[game.zones[game.selectedZone._id].owner].name}}</h3>
						<div class="row">
						</div>
					</div>

					<div class="row" ng-if="listUnitType">
						<div ng-repeat="i in game.matrixes.UnitData.content">
							<div class="col-md-12 row-unit" style="/*height:80px;*/ background-color: rgba(41, 128, 185, 0.1);">
								<div class="col-md-3 nopadding">
									<img class="unit-icon" src="http://liris.cnrs.fr/vasile-marian.scuturici/files/marian.jpg" height=74 width=74 style="margin-top:3px; margin-bottom:3px;" />
								</div>
								<div class="col-md-3 nopadding" style="margin-top: 27px; text-align:center;">
									<span>{{i.name}}</span>
								</div>
								<div class="col-md-3 nopadding" style="height:100%">
									<div style="height:50%; margin-top: 13px; text-align:center;">
										<span>Nombre</span>
									</div>
									<div style="height:50%; text-align:center;">
										<span>{{unitsByTypeForZone[i.type].length}}</span>
									</div>


								</div>
								<div class="col-md-3 nopadding" style="margin-top: 27px;  text-align:center;">
									<button class="btn btn-primary btn-success" ng-if="game.zones[game.selectedZone._id].owner === player._id" ng-click="buyUnit(i.type)">+</button>
									<button ng-if="unitsByTypeForZone[i.type].length > 0" class="btn btn-primary btn-danger" ng-click="sell(unitsByType[i][0].zone,unitsByType[i][0]._id,unitsByType[i][0].player)">-</button>
								</div>
							</div>
							<div class="col-md-12" style="height:2px; background-color:#3C3C3C;">
							</div>
						</div>
					</div>

					

					
					<div style="background-color:red;">
						<br />
						<!--temporaire-->
						<span ng-click="move(game.zones[0]._id,game.zones[1]._id,[game.units[0]._id])">CLICK ME To Move</span>| <span ng-click="buy(game.units[0].zone,game.units[0].player,7)">CLICK ME To buy scientist</span>

						<label>Grosses unités</label>
						<p ng-repeat="unit in game.units">{{game.matrixes.UnitData.content[unit.type].name}} - belongs to {{game.players[unit.player].name}} - is at {{game.zonesDesc[game.zones[unit.zone].zoneDesc].name}} ({{unit.x}},{{unit.y}}) <button ng-click="sell(unit.zone,unit._id,unit.player)">Sell</button></p>
						<lavel>Players</label>
						<p ng-repeat="p in game.players">{{p._id}} - {{p.name}} - {{p.money}}$</p>
						<!--/temporaire-->
					</div>
				</div>
	
				<div class="chat-box">
	   				<input type="checkbox" />
					<label data-expanded="Réduire le chat" data-collapsed="Ouvrir le chat" class="chatBoxTitle"></label>
						<div id="chatBox" class="chat-box-content">
							<div id="chat" ng-repeat="i in game.chatMessages"> 
								{{game.players[i.player].name}}  : {{i.message}} 
							</div>
							<form class="chatInput" name="chatForm" ui-keypress="{13:'sendMessage(messageForChat)'}">
								<div class="input-group input-group-sm">
									<span class="input-group-addon" id="btn_sendChatMessage" ng-click='sendMessage(messageForChat)'>></span>
									<input type="text" id="messageForChat" class="form-control" placeholder="..." aria-describedby="basic-addon1" ng-model="messageForChat">
								</div>
							</form>
						</div>
				</div>

				<div id="game-main-panel" class="col-md-9 game-panel">

				</div>
			</div>
		</div>
	</div>
</section>
